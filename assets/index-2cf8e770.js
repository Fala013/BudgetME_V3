import{r as d,j as e,l as w,a as N,b as E,R}from"./auth-c3ab1435.js";import{r as S}from"./vendor-c0864f7b.js";import{T as L,a as P}from"./transactions-73650c39.js";(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))m(r);new MutationObserver(r=>{for(const t of r)if(t.type==="childList")for(const s of t.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&m(s)}).observe(document,{childList:!0,subtree:!0});function i(r){const t={};return r.integrity&&(t.integrity=r.integrity),r.referrerPolicy&&(t.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?t.credentials="include":r.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function m(r){if(r.ep)return;r.ep=!0;const t=i(r);fetch(r.href,t)}})();var f={},x=S;f.createRoot=x.createRoot,f.hydrateRoot=x.hydrateRoot;const C="modulepreload",k=function(n){return"/BudgetME_V3/"+n},p={},A=function(c,i,m){if(!i||i.length===0)return c();const r=document.getElementsByTagName("link");return Promise.all(i.map(t=>{if(t=k(t),t in p)return;p[t]=!0;const s=t.endsWith(".css"),h=s?'[rel="stylesheet"]':"";if(!!m)for(let u=r.length-1;u>=0;u--){const l=r[u];if(l.href===t&&(!s||l.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${t}"]${h}`))return;const o=document.createElement("link");if(o.rel=s?"stylesheet":C,s||(o.as="script",o.crossOrigin=""),o.href=t,document.head.appendChild(o),s)return new Promise((u,l)=>{o.addEventListener("load",u),o.addEventListener("error",()=>l(new Error(`Unable to preload CSS for ${t}`)))})})).then(()=>c()).catch(t=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=t,window.dispatchEvent(s),!s.defaultPrevented)throw t})},O=d.lazy(()=>A(()=>import("./auth-c3ab1435.js").then(n=>n.A),[]));function T(){const[n,c]=d.useState(!0),[i,m]=d.useState(""),[r,t]=d.useState(""),[s,h]=d.useState(""),[g,o]=d.useState(!1),[u,l]=d.useState(null),y=async a=>{a.preventDefault(),h("");try{n?await w(i,r):await N(i,r)}catch(j){h(j.message)}},b=async()=>{try{await E()}catch(a){h(a.message)}},v=a=>{l(a),o(!0)};return e.jsx(d.Suspense,{fallback:e.jsx("div",{children:"Caricamento autenticazione..."}),children:e.jsx(O,{children:e.jsx("div",{className:"min-h-screen bg-gray-100",children:e.jsx("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:e.jsx("div",{className:"px-4 py-6 sm:px-0",children:e.jsx("div",{className:"bg-white shadow sm:rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[s&&e.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:s}),e.jsxs("form",{onSubmit:y,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),e.jsx("input",{type:"email",value:i,onChange:a=>m(a.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),e.jsx("input",{type:"password",value:r,onChange:a=>t(a.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md hover:bg-indigo-700",children:n?"Accedi":"Registrati"}),e.jsx("button",{type:"button",onClick:()=>c(!n),className:"text-sm text-indigo-600 hover:text-indigo-500",children:n?"Non hai un account? Registrati":"Hai giÃ  un account? Accedi"})]})]}),e.jsx("div",{className:"mt-4",children:e.jsx("button",{onClick:b,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 border border-transparent rounded-md hover:bg-red-700",children:"Logout"})}),e.jsx("div",{className:"mt-4",children:e.jsx("button",{onClick:()=>{l(null),o(!0)},className:"px-4 py-2 text-sm font-medium text-white bg-green-600 border border-transparent rounded-md hover:bg-green-700",children:"Nuova Transazione"})}),g&&e.jsx("div",{className:"mt-4",children:e.jsx(L,{transaction:u,onClose:()=>{o(!1),l(null)}})}),e.jsx(P,{onEdit:v})]})})})})})})})}f.createRoot(document.getElementById("root")).render(e.jsx(R.StrictMode,{children:e.jsx(T,{})}));
